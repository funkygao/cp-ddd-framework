<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="zh">
<head>
<!-- Generated by javadoc (1.8.0_272) on Wed Jul 26 17:21:35 CST 2023 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>INativeFlow (DDDplus Framework 2.0.2-SNAPSHOT API)</title>
<meta name="date" content="2023-07-26">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="INativeFlow (DDDplus Framework 2.0.2-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>您的浏览器已禁用 JavaScript。</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="跳过导航链接">跳过导航链接</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="class-use/INativeFlow.html">使用</a></li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../index-all.html">索引</a></li>
<li><a href="../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../io/github/dddplus/model/IMergeAwareDirtyHint.html" title="io.github.dddplus.model中的接口"><span class="typeNameLink">上一个类</span></a></li>
<li><a href="../../../../io/github/dddplus/model/IPo.html" title="io.github.dddplus.model中的接口"><span class="typeNameLink">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?io/github/dddplus/model/INativeFlow.html" target="_top">框架</a></li>
<li><a href="INativeFlow.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li>嵌套&nbsp;|&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li>构造器&nbsp;|&nbsp;</li>
<li>方法</li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li>构造器&nbsp;|&nbsp;</li>
<li>方法</li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">io.github.dddplus.model</div>
<h2 title="接口 INativeFlow" class="title">接口 INativeFlow</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public interface <span class="typeNameLabel">INativeFlow</span></pre>
<div class="block">(有明确业务意图，跨聚合，可复用，不可拆分)的流程片段.

 <p>Unsplittable reusable single intention business orchestration logic.</p>
 <p>它是一个(无状态，只暴露行为)的领域模型，富含领域知识，不属于某1个聚合.</p>
 <p>Should I have domain knowledge to understand this code? Must be Yes.</p>
 <p>对外是面向对象思维，内部是面向过程</p>
 <p>
 <ul>它与<code>Service</code>有什么区别？
 <li>它只处理跨聚合根，不要仅仅因为有<a href="../../../../io/github/dddplus/model/IGateway.html" title="io.github.dddplus.model中的接口"><code>IGateway</code></a>依赖而为聚合根创建<a href="../../../../io/github/dddplus/model/INativeFlow.html" title="io.github.dddplus.model中的接口"><code>INativeFlow</code></a>，可以使用<a href="../../../../io/github/dddplus/model/BoundedDomainModel.html" title="io.github.dddplus.model中的类"><code>BoundedDomainModel</code></a></li>
 <li>它只有1个公共方法，只有一个业务意图，只做一件事，单一职责</li>
 <li>它强调复用性，前提是不可拆解，是微观的，因此不会用于`接单流程`这样复杂的宏流程：引起宏流程变化的原因有多种，而引起<a href="../../../../io/github/dddplus/model/INativeFlow.html" title="io.github.dddplus.model中的接口"><code>INativeFlow</code></a>变化的原因只有一种</li>
 <li>不必担心因此造成类数量膨胀，(有明确业务意图，跨聚合，可复用，不可拆分)的流程不可能多，否则就是聚合设计有问题</li>
 <li>它的类名反映明确意图，而不会出现`OrderFlow`这样的无明确意图的命名，它不是无状态方法的容器</li>
 <li>它的公共方法，可以统一命名为：execute，因为类名体现了意图，无需通过方法名体现</li>
 </ul>
 <p>聚合间如何协作？这里是通过<a href="../../../../io/github/dddplus/model/INativeFlow.html" title="io.github.dddplus.model中的接口"><code>INativeFlow</code></a>，网上DDD说通过<code>domain events</code>，它有什么问题？</p>
 <ul>
 <li>EDA价值在于decouple producer from consumer，you generally don't have much concern for what the exact implementation is of the event consumers.</li>
 <li>异步的代码不直观，阅读代码时(思维被中断，绕，跳，返程)，总是难以理解，除非异步机制写的的代码像同步一样</li>
 <li>连续的生命周期 vs 离散的事件</li>
 <li>事务的可理解性差</li>
 <li>由于消费者被孤立到边缘，多方消费容易产生重复数据库查询、写，容易产生大事务</li>
 <li>使得side effect隐性化</li>
 <li>增加测试成本</li>
 </ul></div>
<dl>
<dt><span class="seeLabel">另请参阅:</span></dt>
<dd><a href="https://learn.microsoft.com/en-us/dotnet/architecture/microservices/microservice-ddd-cqrs-patterns/domain-events-design-implementation">Single transaction across aggregates VS Eventual consistency across aggregates</a></dd>
</dl>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="跳过导航链接">跳过导航链接</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="class-use/INativeFlow.html">使用</a></li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../index-all.html">索引</a></li>
<li><a href="../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../io/github/dddplus/model/IMergeAwareDirtyHint.html" title="io.github.dddplus.model中的接口"><span class="typeNameLink">上一个类</span></a></li>
<li><a href="../../../../io/github/dddplus/model/IPo.html" title="io.github.dddplus.model中的接口"><span class="typeNameLink">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?io/github/dddplus/model/INativeFlow.html" target="_top">框架</a></li>
<li><a href="INativeFlow.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li>嵌套&nbsp;|&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li>构造器&nbsp;|&nbsp;</li>
<li>方法</li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li>构造器&nbsp;|&nbsp;</li>
<li>方法</li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2020&#x2013;2023. All rights reserved.</small></p>
</body>
</html>

<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="735px" preserveAspectRatio="none" style="width:947px;height:735px;" version="1.1" viewBox="0 0 947 735" width="947px" zoomAndPan="magnify"><defs><filter height="300%" id="fjkqm6u" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="144" x="415" y="17.4023">技术实现细节指引</text><!--cluster 逆向业务模型--><polygon fill="#FFFFFF" filter="url(#fjkqm6u)" points="22,99.1992,112,99.1992,119,121.6875,940,121.6875,940,699.1992,22,699.1992,22,99.1992" style="stroke: #000000; stroke-width: 2.0;"/><line style="stroke: #000000; stroke-width: 2.0;" x1="22" x2="119" y1="121.6875" y2="121.6875"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="84" x="26" y="114.7344">逆向业务模型</text><!--cluster Aggregate：技术实现--><polygon fill="#FFFFFF" filter="url(#fjkqm6u)" points="46,142.1992,195,142.1992,202,164.6875,916,164.6875,916,675.1992,46,675.1992,46,142.1992" style="stroke: #000000; stroke-width: 2.0;"/><line style="stroke: #000000; stroke-width: 2.0;" x1="46" x2="202" y1="164.6875" y2="164.6875"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="143" x="50" y="157.7344">Aggregate：技术实现</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="215" x="377.5" y="180.2227">«ddd.plus.showcase.wms.infra»</text><!--class CartonOrderDb--><rect fill="#FEFECE" filter="url(#fjkqm6u)" height="99.8203" style="stroke: #A80036; stroke-width: 1.5;" width="324" x="68.5" y="552.1992"/><ellipse cx="181.75" cy="568.1992" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M184.2231,574.3423 Q183.6421,574.6411 183.0029,574.7905 Q182.3638,574.9399 181.6582,574.9399 Q179.1514,574.9399 177.8315,573.2881 Q176.5117,571.6362 176.5117,568.5151 Q176.5117,565.3857 177.8315,563.7339 Q179.1514,562.082 181.6582,562.082 Q182.3638,562.082 183.0112,562.2314 Q183.6587,562.3809 184.2231,562.6797 L184.2231,565.4023 Q183.5923,564.8213 182.9988,564.5515 Q182.4053,564.2817 181.7744,564.2817 Q180.4297,564.2817 179.7449,565.3484 Q179.0601,566.415 179.0601,568.5151 Q179.0601,570.6069 179.7449,571.6736 Q180.4297,572.7402 181.7744,572.7402 Q182.4053,572.7402 182.9988,572.4705 Q183.5923,572.2007 184.2231,571.6196 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="89" x="202.25" y="572.7344">CartonOrderDb</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="69.5" x2="391.5" y1="584.1992" y2="584.1992"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="37" x="74.5" y="615.7891">Carton</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="69.5" x2="204" y1="598.6768" y2="598.6768"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="53" x="204" y="602.334">Structural</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="257" x2="391.5" y1="598.6768" y2="598.6768"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="312" x="74.5" y="645.6992">get() 如何实现BelongTo关联关系，并且通过缓存支持多次调用.</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="69.5" x2="219.5" y1="628.5869" y2="628.5869"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="22" x="219.5" y="632.2441">行为</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="241.5" x2="391.5" y1="628.5869" y2="628.5869"/><!--class OrderCartonsDb--><rect fill="#FEFECE" filter="url(#fjkqm6u)" height="99.8203" style="stroke: #A80036; stroke-width: 1.5;" width="337" x="62" y="417.1992"/><ellipse cx="178.75" cy="433.1992" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M181.2231,439.3423 Q180.6421,439.6411 180.0029,439.7905 Q179.3638,439.9399 178.6582,439.9399 Q176.1514,439.9399 174.8315,438.2881 Q173.5117,436.6362 173.5117,433.5151 Q173.5117,430.3857 174.8315,428.7339 Q176.1514,427.082 178.6582,427.082 Q179.3638,427.082 180.0112,427.2314 Q180.6587,427.3809 181.2231,427.6797 L181.2231,430.4023 Q180.5923,429.8213 179.9988,429.5515 Q179.4053,429.2817 178.7744,429.2817 Q177.4297,429.2817 176.7449,430.3484 Q176.0601,431.415 176.0601,433.5151 Q176.0601,435.6069 176.7449,436.6736 Q177.4297,437.7402 178.7744,437.7402 Q179.4053,437.7402 179.9988,437.4705 Q180.5923,437.2007 181.2231,436.6196 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="95" x="199.25" y="437.7344">OrderCartonsDb</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="63" x2="398" y1="449.1992" y2="449.1992"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="56" x="68" y="480.7891">Dao Order</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="63" x2="204" y1="463.6768" y2="463.6768"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="53" x="204" y="467.334">Structural</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="257" x2="398" y1="463.6768" y2="463.6768"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="325" x="68" y="510.6992">totalCartonizedQty() 订单通过关联对象访问另外一个聚合内对象.</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="63" x2="219.5" y1="493.5869" y2="493.5869"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="22" x="219.5" y="497.2441">行为</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="241.5" x2="398" y1="493.5869" y2="493.5869"/><!--class TaskCartonsDb--><rect fill="#FEFECE" filter="url(#fjkqm6u)" height="99.8203" style="stroke: #A80036; stroke-width: 1.5;" width="193" x="134" y="282.1992"/><ellipse cx="181.75" cy="298.1992" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M184.2231,304.3423 Q183.6421,304.6411 183.0029,304.7905 Q182.3638,304.9399 181.6582,304.9399 Q179.1514,304.9399 177.8315,303.2881 Q176.5117,301.6362 176.5117,298.5151 Q176.5117,295.3857 177.8315,293.7339 Q179.1514,292.082 181.6582,292.082 Q182.3638,292.082 183.0112,292.2314 Q183.6587,292.3809 184.2231,292.6797 L184.2231,295.4023 Q183.5923,294.8213 182.9988,294.5515 Q182.4053,294.2817 181.7744,294.2817 Q180.4297,294.2817 179.7449,295.3484 Q179.0601,296.415 179.0601,298.5151 Q179.0601,300.6069 179.7449,301.6736 Q180.4297,302.7402 181.7744,302.7402 Q182.4053,302.7402 182.9988,302.4705 Q183.5923,302.2007 184.2231,301.6196 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="89" x="202.25" y="302.7344">TaskCartonsDb</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="135" x2="326" y1="314.1992" y2="314.1992"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="49" x="140" y="345.7891">Dao Task</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="135" x2="204" y1="328.6768" y2="328.6768"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="53" x="204" y="332.334">Structural</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="257" x2="326" y1="328.6768" y2="328.6768"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="181" x="140" y="375.6992">contains() 另外一个关联对象的实现.</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="135" x2="219.5" y1="358.5869" y2="358.5869"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="22" x="219.5" y="362.2441">行为</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="241.5" x2="326" y1="358.5869" y2="358.5869"/><!--class TaskOrdersDb--><rect fill="#FEFECE" filter="url(#fjkqm6u)" height="112.7754" style="stroke: #A80036; stroke-width: 1.5;" width="287" x="536" y="545.6992"/><ellipse cx="632.75" cy="561.6992" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M635.2231,567.8423 Q634.6421,568.1411 634.0029,568.2905 Q633.3638,568.4399 632.6582,568.4399 Q630.1514,568.4399 628.8315,566.7881 Q627.5117,565.1362 627.5117,562.0151 Q627.5117,558.8857 628.8315,557.2339 Q630.1514,555.582 632.6582,555.582 Q633.3638,555.582 634.0112,555.7314 Q634.6587,555.8809 635.2231,556.1797 L635.2231,558.9023 Q634.5923,558.3213 633.9988,558.0515 Q633.4053,557.7817 632.7744,557.7817 Q631.4297,557.7817 630.7449,558.8484 Q630.0601,559.915 630.0601,562.0151 Q630.0601,564.1069 630.7449,565.1736 Q631.4297,566.2402 632.7744,566.2402 Q633.4053,566.2402 633.9988,565.9705 Q634.5923,565.7007 635.2231,565.1196 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="85" x="653.25" y="566.2344">TaskOrdersDb</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="537" x2="822" y1="577.6992" y2="577.6992"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="49" x="542" y="609.2891">Dao Task</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="537" x2="653" y1="592.1768" y2="592.1768"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="53" x="653" y="595.834">Structural</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="706" x2="822" y1="592.1768" y2="592.1768"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="274" x="542" y="639.1992">pendingOrder() 关联对象实现业务校验，避免逻辑泄露</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="275" x="542" y="652.1543">pendingOrders() 如何实现关联对象，注入dao和entity</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="537" x2="668.5" y1="622.0869" y2="622.0869"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="22" x="668.5" y="625.7441">行为</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="690.5" x2="822" y1="622.0869" y2="622.0869"/><!--class TaskPo--><rect fill="#FEFECE" filter="url(#fjkqm6u)" height="99.8203" style="stroke: #A80036; stroke-width: 1.5;" width="331" x="514" y="410.1992"/><ellipse cx="654.25" cy="426.1992" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M656.7231,432.3423 Q656.1421,432.6411 655.5029,432.7905 Q654.8638,432.9399 654.1582,432.9399 Q651.6514,432.9399 650.3315,431.2881 Q649.0117,429.6362 649.0117,426.5151 Q649.0117,423.3857 650.3315,421.7339 Q651.6514,420.082 654.1582,420.082 Q654.8638,420.082 655.5112,420.2314 Q656.1587,420.3809 656.7231,420.6797 L656.7231,423.4023 Q656.0923,422.8213 655.4988,422.5515 Q654.9053,422.2817 654.2744,422.2817 Q652.9297,422.2817 652.2449,423.3484 Q651.5601,424.415 651.5601,426.5151 Q651.5601,428.6069 652.2449,429.6736 Q652.9297,430.7402 654.2744,430.7402 Q654.9053,430.7402 655.4988,430.4705 Q656.0923,430.2007 656.7231,429.6196 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="42" x="674.75" y="430.7344">TaskPo</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="515" x2="844" y1="442.1992" y2="442.1992"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="201" x="520" y="473.7891">TaskMode/(use MyBatis TypeHandler)</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="515" x2="653" y1="456.6768" y2="456.6768"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="53" x="653" y="460.334">Structural</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="706" x2="844" y1="456.6768" y2="456.6768"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="319" x="520" y="503.6992">shouldHaveNoLogic() po对象不能有任何setter getter外的逻辑</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="515" x2="668.5" y1="486.5869" y2="486.5869"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="22" x="668.5" y="490.2441">行为</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="690.5" x2="844" y1="486.5869" y2="486.5869"/><!--class TaskRepository--><rect fill="#FEFECE" filter="url(#fjkqm6u)" height="181.5508" style="stroke: #A80036; stroke-width: 1.5;" width="441" x="459" y="193.1992"/><ellipse cx="630.75" cy="209.1992" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M633.2231,215.3423 Q632.6421,215.6411 632.0029,215.7905 Q631.3638,215.9399 630.6582,215.9399 Q628.1514,215.9399 626.8315,214.2881 Q625.5117,212.6362 625.5117,209.5151 Q625.5117,206.3857 626.8315,204.7339 Q628.1514,203.082 630.6582,203.082 Q631.3638,203.082 632.0112,203.2314 Q632.6587,203.3809 633.2231,203.6797 L633.2231,206.4023 Q632.5923,205.8213 631.9988,205.5515 Q631.4053,205.2817 630.7744,205.2817 Q629.4297,205.2817 628.7449,206.3484 Q628.0601,207.415 628.0601,209.5151 Q628.0601,211.6069 628.7449,212.6736 Q629.4297,213.7402 630.7744,213.7402 Q631.4053,213.7402 631.9988,213.4705 Q632.5923,213.2007 633.2231,212.6196 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="89" x="651.25" y="213.7344">TaskRepository</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="460" x2="899" y1="225.1992" y2="225.1992"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="206" x="465" y="256.7891">_self/如何克服Java访问权限控制粒度问题</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="460" x2="653" y1="239.6768" y2="239.6768"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="53" x="653" y="243.334">Structural</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="706" x2="899" y1="239.6768" y2="239.6768"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="241" x="465" y="286.6992">injectAssociations() 实例化关联对象并注入实体</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="418" x="465" y="299.6543">mustGet() 如何把数据库里的数据转换为充血模型的IDomainModel，并注入关联对象</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="188" x="465" y="312.6094">mustGet() 如何从数据库加载场景对象</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="295" x="465" y="325.5645">save(TaskOfSku) 如何把充血模型落库，dirty hint，乐观锁</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="225" x="465" y="338.5195">save(TaskOfContainer) 如何使用mapstruct</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="460" x2="668.5" y1="269.5869" y2="269.5869"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="22" x="668.5" y="273.2441">行为</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="690.5" x2="899" y1="269.5869" y2="269.5869"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="344" x="465" y="368.4297">toPo(TaskOfSkuPending) 如何落库时处理查询和报表使用的冗余字段</text><text fill="#808000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="79" x="812" y="368.4297">TaskConverter</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="460" x2="668.5" y1="351.3174" y2="351.3174"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="22" x="668.5" y="354.9746">流程</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="690.5" x2="899" y1="351.3174" y2="351.3174"/><polygon fill="#FFFFFF" filter="url(#fjkqm6u)" points="157,29.6992,261,29.6992,268,52.1875,304,52.1875,304,82.6758,157,82.6758,157,29.6992" style="stroke: #000000; stroke-width: 2.0;"/><line style="stroke: #000000; stroke-width: 2.0;" x1="157" x2="268" y1="52.1875" y2="52.1875"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="98" x="161" y="45.2344">跨聚合复杂流程</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="125" x="172" y="67.7227">«Orphan Services»</text><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="108" x="433" y="734.8672">generated by DDDplus</text></g></svg>